<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nathalli Ricco | Agenda</title>
    
    <link rel="manifest" href="manifest.json?v=25">
    <meta name="theme-color" content="#1a73e8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Nath Agenda">
    <link rel="apple-touch-icon" href="calendar.png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <style>
        /* Mantenha seu CSS aqui dentro sem repetir a tag style */
        :root {
            --google-blue: #1a73e8;
            --border-color: #dadce0;
            --bg-main: #ffffff;
            --text-main: #3c4043;
            --sidebar-bg: #ffffff;
            --header-bg: #ffffff;
            --modal-bg: #ffffff;
            --fc-today-bg-color: #e8f0fe; 
        }
        [data-theme="dark"] {
            --bg-main: #121212;
            --text-main: #e8eaed;
            --border-color: #3c4043;
            --sidebar-bg: #1e1e1e;
            --header-bg: #1e1e1e;
            --modal-bg: #2d2d2d;
            --fc-today-bg-color: rgba(26, 115, 232, 0.15);
            color-scheme: dark;
        }
        body { background-color: var(--bg-main); color: var(--text-main); font-family: 'Roboto', sans-serif; overflow: hidden; transition: background 0.3s ease; }
        .app-container { display: flex; height: 100vh; flex-direction: column; }
        .main-content { display: flex; flex: 1; overflow: hidden; }
        #calendar { flex: 1; padding: 10px; background: var(--bg-main); }
        .sidebar { width: 260px; border-right: 1px solid var(--border-color); background: var(--sidebar-bg); padding: 20px; display: flex; flex-direction: column; }
        .header-top { height: 64px; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; border-bottom: 1px solid var(--border-color); background: var(--header-bg); z-index: 1030; }
        .fc { --fc-border-color: var(--border-color); font-size: 0.9rem; }
        [data-theme="dark"] .text-muted { color: rgba(255, 255, 255, 0.7) !important; }
        .fab { position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; border-radius: 16px; background-color: var(--google-blue); box-shadow: 0 4px 12px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; z-index: 1000; cursor: pointer; color: white; border: none; }
        .theme-toggle { cursor: pointer; padding: 10px; border-radius: 50%; color: var(--text-main); }
        @media (max-width: 768px) { .sidebar { display: none; } .fc .fc-toolbar { flex-direction: column; gap: 10px; } }
    </style>

    <script>
      // Registro ÃšNICO do Service Worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('sw.js?v=25')
            .then(reg => console.log("PWA: Ativo"))
            .catch(err => console.log("PWA: Erro", err));
        });
      }
    </script>
</head>
